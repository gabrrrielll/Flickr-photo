(this.webpackJsonpflickr=this.webpackJsonpflickr||[]).push([[0],{21:function(e,t,a){e.exports=a(48)},26:function(e,t,a){},28:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(15),c=a.n(s),i=(a(26),a(2)),o=a.n(i),l=a(5),u=a(3),m=a(16),h=a(17),p=a(20),g=a(19),d=function(e){return r.a.createElement("div",{className:"search-block"},r.a.createElement("form",{onSubmit:e.searchVal},r.a.createElement("input",{id:"search",name:"search",onChange:e.inputHandler,placeholder:"Search here"}),r.a.createElement("span",null,r.a.createElement("button",{id:"submit"},"Search")),r.a.createElement("p",{id:"alert"},e.state&&""!==e.state.alert?e.state.alert:null),r.a.createElement("p",null,"Your search is: ",r.a.createElement("b",null," ",e.search))))},f=function(e){return e.state.items.map((function(e,t){return r.a.createElement("div",{className:"item",key:t},r.a.createElement("div",{className:"title"},e.title?e.title:"Empty title"),r.a.createElement("div",{className:"content"},r.a.createElement("img",{src:"https://farm"+e.farm+".staticflickr.com/"+e.server+"/"+e.id+"_"+e.secret+"_q.jpg",alt:e.title})))}))},b=(a(28),a(18)),v=a.n(b),E=function(){var e=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(t,{headers:{Accept:"application/json","Content-Type":"application/json"},mode:"no-cors",credentials:"include"});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();a(45).config();var k=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={searchText:"",lastSearch:!1,items:[],pageNumber:1,pages:1,allPagesLoads:!1,message:"Loading . . .",alert:""},e.inputHandler=function(t){e.setState({searchText:t.target.value,pageNumber:1,alert:""})},e.getApiData=Object(u.a)(o.a.mark((function t(){var a,n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="https://api.flickr.com/services/rest/?method=flickr.photos.search&format=json&nojsoncallback=1&api_key=15b67c2a8b4288ff1fddf5eb56655cfb&is_getty=1&page="+e.state.pageNumber,e.state.searchText.length>2&&(a+="&tags="+e.state.searchText),t.next=4,E(a);case 4:n=t.sent,r=n.data.photos,e.state.pageNumber<r.pages&&r.pages>1?e.setState({message:"Loading . . .",allPagesLoads:!1}):e.state.pageNumber>=r.pages&&r.pages>0?e.setState({message:"That's all folks",allPagesLoads:!0,pageNumber:1}):0===r.pages&&e.setState({message:"Nothing here!  \ud83e\udd37 Search another word.",allPagesLoads:!0}),e.setState({items:[].concat(Object(l.a)(e.state.items),Object(l.a)(r.photo)),pages:r.pages,pageNumber:e.state.pageNumber+1,lastSearch:e.state.searchText});case 8:case"end":return t.stop()}}),t)}))),e.searchVal=function(t){t.preventDefault(),e.state.searchText.length>2?(e.setState({items:[],pageNumber:1,alert:""}),e.getApiData()):e.setState({alert:"Search tag must contain minim three characters"})},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.getApiData();var t={root:document.querySelector(".view")},a=new IntersectionObserver((function(t){t.forEach((function(t){t.isIntersecting&&!e.state.allPagesLoads&&e.state.items.length>0&&e.getApiData()}))}),t),n=document&&document.querySelector("#end");a.observe(n)}},{key:"render",value:function(){return r.a.createElement("div",{className:"view"},r.a.createElement(d,{inputHandler:this.inputHandler,search:this.state.searchText,searchVal:this.searchVal,state:this.state}),r.a.createElement(f,{state:this.state}),r.a.createElement("div",{id:"end"},r.a.createElement("h3",null,this.state.message)))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.f7df8555.chunk.js.map